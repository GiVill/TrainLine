<div class="station-detail" [class.expanded]="isExpanded()">
  <!-- ********************** -->
  <!-- HEADER COMPATTO       -->
  <!-- ********************** -->
  <div class="station-header-compact">
    <div class="station-title-compact">
      <h2>{{ station.stop_name }}</h2>
      <button
        class="expand-toggle"
        (click)="toggleExpanded()"
        [attr.aria-expanded]="isExpanded()"
        [attr.aria-label]="isExpanded() ? 'Nascondi dettagli' : 'Mostra dettagli'"
      >
        <svg
          class="expand-icon"
          [class.rotated]="isExpanded()"
          width="20"
          height="20"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          stroke-width="2"
        >
          <polyline points="6,9 12,15 18,9"></polyline>
        </svg>
      </button>
    </div>

    <!-- Informazioni essenziali -->
    <div class="station-meta-compact">
      <div class="meta-item-compact">
        <span class="meta-label">Zona ID:</span>
        <span class="meta-value">{{ station.zone_id }}</span>
      </div>
      <div class="meta-item-compact">
        <span class="meta-label">Tipo:</span>
        <span class="meta-value">Stazione Ferroviaria</span>
      </div>
      <div class="meta-item-compact">
        <span class="meta-label">Coordinate:</span>
        <span class="meta-value">
          {{ station.stop_lat | number:'1.6-6' }}, {{ station.stop_lon | number:'1.6-6' }}
        </span>
      </div>
    </div>
  </div>

  <!-- ********************** -->
  <!-- SEZIONE DETTAGLIATA    -->
  <!-- ********************** -->
  <div class="station-detail-expanded" [class.visible]="isExpanded()">
    <div class="station-content">
      <!-- → Diagramma 3D con Three.js ← -->
      <div class="diagram-section">
        <h3>Station Layout</h3>
        <div class="technical-diagram">
          <!-- Contenitore per la scena Three.js -->
          <div id="threeContainer" #threeContainer class="three-container"></div>
        </div>
      </div>

      </div>
    </div>
  </div>
